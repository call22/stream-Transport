# stream-Transport
RTP-RTCP-RTSP transfer stream

bug1. 多线程的变量共享与私有控制(耗时一晚上)

1. 一无所知, 首先实现对一个客户的服务 -->
2.  使用threading.local()建立单独的数据库, 可以实现不同客户端数据的隔离. **但是**对于rtp无法共享, 因为rtp需要单独建立线程, 而此时无法获取另一线程上的rtsp相关参数 --> 
3. 建立全局dict变量, 以线程ident为可以, 存储每个线程的值. 在rtp函数中, 通过传参获取key值.  **但是**不知为何, pycharm报错"unexcept type"(大概意思, 所传参数的类型无法确定), 找不到解决方案. -->
4.  在main中多线程, 建立多个server对象, 每个server对象,仅服务一个客户端. 这样在逻辑和代码实现时都可以避免数据共享和私有的问题.
5. 总结:        看起来, 这个解决方案最为暴力, 但仔细分析, 此方案在空间\时间开销上与多线程没有太大区别, 而逻辑更加清晰, 不需要考虑加锁等变量共享的问题.